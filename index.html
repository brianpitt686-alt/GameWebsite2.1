<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IXL - Custom Library</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root { --neon: #4fd1ff; --bg1: #05080f; --bg2: #0c1b2e; }
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: "Orbitron", sans-serif; }
    body { min-height: 100vh; color: #e9f7ff; background: radial-gradient(1200px 600px at 10% -10%, #0b2545 0%, transparent 60%), linear-gradient(135deg, var(--bg1), var(--bg2)); }
    header { position: sticky; top: 0; z-index: 10; backdrop-filter: blur(10px); background: rgba(0,0,0,.6); border-bottom: 1px solid rgba(255,255,255,.08); padding: 16px 24px; display: flex; align-items: center; justify-content: space-between; }
    .search-box { background: rgba(255,255,255,.05); border: 1px solid rgba(255,255,255,.1); padding: 8px 16px; border-radius: 8px; color: #fff; outline: none; transition: 0.3s; width: 250px; }
    .search-box:focus { border-color: var(--neon); box-shadow: 0 0 10px rgba(79, 209, 255, 0.3); }
    .container { padding: 40px 24px; max-width: 1200px; margin: 0 auto; }
    .tabs { display: flex; gap: 20px; margin-bottom: 30px; border-bottom: 1px solid rgba(255,255,255,.1); }
    .tab { padding: 12px 24px; cursor: pointer; opacity: 0.6; transition: 0.3s; border-bottom: 2px solid transparent; }
    .tab.active { opacity: 1; border-color: var(--neon); color: var(--neon); }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 20px; }
    .card { background: rgba(255,255,255,.03); border: 1px solid rgba(255,255,255,.08); border-radius: 12px; padding: 16px; text-align: center; cursor: pointer; transition: 0.3s; position: relative; overflow: hidden; }
    .card:hover { transform: translateY(-5px); background: rgba(79, 209, 255, 0.05); border-color: var(--neon); box-shadow: 0 10px 20px rgba(0,0,0,0.4); }
    /* App Creator Styling */
    .creator-section { margin-top: 60px; padding: 30px; background: rgba(255,255,255,0.02); border-radius: 15px; border: 1px dashed rgba(79, 209, 255, 0.3); }
    .creator-inputs { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 15px; }
    .creator-inputs input { flex: 1; min-width: 200px; padding: 10px; border-radius: 5px; border: 1px solid #333; background: #111; color: white; }
    .add-btn { background: var(--neon); color: #000; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }
    .add-btn:hover { background: #fff; }
    #player { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 100; display: none; }
    #player.active { display: block; }
    iframe { width: 100%; height: calc(100% - 60px); border: none; }
    .player-controls { height: 60px; display: flex; align-items: center; padding: 0 20px; background: #111; gap: 15px; }
  </style>
</head>
<body>

<header>
  <h2 style="color: var(--neon); letter-spacing: 2px;">IXL</h2>
  <input type="text" id="search" class="search-box" placeholder="Search library..." oninput="render()">
</header>

<div class="container">
  <div class="tabs">
    <div id="tabGames" class="tab active" onclick="switchTab('games')">GAMES</div>
    <div id="tabApps" class="tab" onclick="switchTab('apps')">APPS</div>
  </div>

  <div id="gamesEl" class="grid"></div>
  <div id="appsEl" class="grid" style="display:none"></div>

  <section class="creator-section">
    <h3>+ Add Custom App</h3>
    <div class="creator-inputs">
      <input type="text" id="customTitle" placeholder="App Name (e.g. YouTube)">
      <input type="text" id="customUrl" placeholder="URL (https://...)">
      <select id="customType" style="padding: 10px; border-radius: 5px; background: #111; color: white;">
        <option value="games">Game</option>
        <option value="apps">App</option>
      </select>
      <button class="add-btn" onclick="addCustomItem()">Add to Library</button>
    </div>
  </section>
</div>

<div id="player">
  <div class="player-controls">
    <button onclick="closePlayer()" style="background:none; border:1px solid #555; color:white; padding:5px 15px; cursor:pointer;">Close</button>
    <span id="titleEl"></span>
  </div>
  <iframe id="frame" src=""></iframe>
</div>

<script>
  // Initial Data
  let gamesData = JSON.parse(localStorage.getItem('myGames')) || [
    { title: "Example Game", url: "https://example.com" }
  ];
  let appsData = JSON.parse(localStorage.getItem('myApps')) || [
    { title: "Example App", url: "https://example.com" }
  ];

  const gamesEl = document.getElementById('gamesEl');
  const appsEl = document.getElementById('appsEl');
  const search = document.getElementById('search');

  function render() {
    const q = search.value.toLowerCase();
    gamesEl.innerHTML = '';
    appsEl.innerHTML = '';

    gamesData.filter(x => x.title.toLowerCase().includes(q)).forEach(x => gamesEl.appendChild(createCard(x)));
    appsData.filter(x => x.title.toLowerCase().includes(q)).forEach(x => appsEl.appendChild(createCard(x)));
  }

  function createCard(item) {
    const d = document.createElement('div');
    d.className = 'card';
    d.innerHTML = `<div>${item.title}</div>`;
    d.onclick = () => openItem(item);
    return d;
  }

  function addCustomItem() {
    const title = document.getElementById('customTitle').value;
    const url = document.getElementById('customUrl').value;
    const type = document.getElementById('customType').value;

    if(!title || !url) return alert("Please enter both a name and a URL.");

    const newItem = { title, url };
    if(type === 'games') {
      gamesData.push(newItem);
      localStorage.setItem('myGames', JSON.stringify(gamesData));
    } else {
      appsData.push(newItem);
      localStorage.setItem('myApps', JSON.stringify(appsData));
    }

    render();
    document.getElementById('customTitle').value = '';
    document.getElementById('customUrl').value = '';
  }

  function switchTab(type) {
    document.getElementById('tabGames').classList.toggle('active', type === 'games');
    document.getElementById('tabApps').classList.toggle('active', type === 'apps');
    gamesEl.style.display = type === 'games' ? 'grid' : 'none';
    appsEl.style.display = type === 'apps' ? 'grid' : 'none';
  }

  function openItem(item) {
    document.getElementById('titleEl').textContent = item.title;
    document.getElementById('frame').src = item.url;
    document.getElementById('player').classList.add('active');
  }

  function closePlayer() {
    document.getElementById('frame').src = '';
    document.getElementById('player').classList.remove('active');
  }

  render();
</script>
</body>
</html>
